<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Meal Plans - Feast Together</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/styles.css">
  <link rel="stylesheet" href="../css/animations.css">
  <link rel="stylesheet" href="../css/responsive.css">
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar" id="navbar">
    <div class="nav-container">
      <a href="../index.html" class="nav-logo">
        <span class="logo-icon">ğŸ¤–</span>
        <span class="logo-text">Feast Together</span>
      </a>
      <button class="nav-toggle" id="navToggle" aria-label="Toggle navigation">
        <span class="hamburger"></span>
      </button>
      <ul class="nav-menu" id="navMenu">
        <li><a href="../index.html" class="nav-link">Home</a></li>
        <li><a href="search.html" class="nav-link">Search Recipes</a></li>
        <li><a href="mealplan.html" class="nav-link active">Meal Plans</a></li>
        <li><a href="shopping.html" class="nav-link">Shopping List</a></li>
        <li><a href="group.html" class="nav-link">Group Profiles</a></li>
        <li id="authNav">
          <a href="login.html" class="nav-link btn-nav">Login</a>
        </li>
      </ul>
    </div>
  </nav>

  <div class="page-container page-transition">
    <div class="page-header">
      <h1>Meal Plans</h1>
      <p>Build the perfect menu for your gathering</p>
    </div>

    <div class="container">
      <!-- Meal Plan Controls -->
      <div class="flex-between mb-4 fade-in" style="flex-wrap: wrap; gap: 12px;">
        <div style="display: flex; gap: 12px; flex-wrap: wrap;">
          <select id="groupSelect" class="form-group" style="padding: 10px 16px; border: 2px solid #e0e0e0; border-radius: 8px; font-family: 'Roboto', sans-serif;">
            <option value="">Select a Group (optional)</option>
          </select>
          <button class="btn btn-primary pulse-hover" onclick="generateMealPlan()">ğŸ² Generate Meal Plan</button>
        </div>
        <div style="display: flex; gap: 12px;">
          <button class="btn btn-secondary" onclick="saveMealPlan()">ğŸ’¾ Save Plan</button>
          <button class="btn btn-accent" onclick="generateShoppingList()">ğŸ›’ Shopping List</button>
        </div>
      </div>

      <!-- Current Meal Plan -->
      <div id="currentMealPlan" class="fade-in delay-1">
        <!-- Appetizer Section -->
        <div class="meal-plan-section">
          <h3>ğŸ¥— Appetizer</h3>
          <div id="appetizerSlot" class="recipe-grid">
            <div class="meal-plan-empty">
              <p>No appetizer selected</p>
              <button class="btn btn-sm btn-secondary" onclick="searchForCourse('appetizer')">Browse Appetizers</button>
            </div>
          </div>
        </div>

        <!-- Main Course Section -->
        <div class="meal-plan-section">
          <h3>ğŸ½ï¸ Main Course</h3>
          <div id="mainCourseSlot" class="recipe-grid">
            <div class="meal-plan-empty">
              <p>No main course selected</p>
              <button class="btn btn-sm btn-secondary" onclick="searchForCourse('main course')">Browse Main Courses</button>
            </div>
          </div>
        </div>

        <!-- Dessert Section -->
        <div class="meal-plan-section">
          <h3>ğŸ° Dessert</h3>
          <div id="dessertSlot" class="recipe-grid">
            <div class="meal-plan-empty">
              <p>No dessert selected</p>
              <button class="btn btn-sm btn-secondary" onclick="searchForCourse('dessert')">Browse Desserts</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Saved Meal Plans -->
      <div class="mt-3">
        <h2 class="section-title">Saved Meal Plans</h2>
        <div id="savedMealPlans">
          <div class="empty-state">
            <div class="empty-icon">ğŸ“‹</div>
            <h3>No Saved Plans</h3>
            <p>Generate a meal plan above, then save it for future reference.</p>
          </div>
        </div>
      </div>

      <!-- Loading -->
      <div id="mealPlanLoader" class="loader hidden">
        <div class="spinner"></div>
      </div>
    </div>
  </div>

  <footer class="footer">
    <div class="footer-bottom">
      <p>&copy; 2026 Feast Together. All rights reserved.</p>
    </div>
  </footer>

  <script src="../js/utils.js"></script>
  <script src="../js/api.js"></script>
  <script src="../js/auth.js"></script>
  <script src="../js/mealplan.js"></script>
  <script src="../js/app.js"></script>
</body>
</html>
